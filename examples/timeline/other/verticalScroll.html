<html>
<head>
  <title>Timeline | Vertical Scroll Option</title>

  <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.10.1/jquery.min.js"></script>
  <script src="../../../dist/vis.js"></script>
  <link href="../../../dist/vis.css" rel="stylesheet" type="text/css" />

  
</head>

<body>

<h1>Timeline vertical scroll option</h1>

<h2>With <code>
verticalScroll: true,
zoomKey: 'ctrlKey'</code>
</h2>

<div id="mytimeline1"></div>

<div id="log"></div>

<h2>With <code>
horizontalScroll: true,
verticalScroll: true,
zoomKey: 'ctrlKey'</code>
</h2>
<div id="mytimeline2"></div>
<script>

  // create groups
  var numberOfGroups = 25; 
  var groups = new vis.DataSet()
  for (var i = 0; i < numberOfGroups; i++) {
    groups.add({
      id: i,
      content: 'Truck&nbsp;' + i
    })
  }
  
  // create items
  var numberOfItems = 1000;
  var items = new vis.DataSet();

  var itemsPerGroup = Math.round(numberOfItems/numberOfGroups);

  for (var truck = 0; truck < numberOfGroups; truck++) {
    var date = new Date();
    for (var order = 0; order < itemsPerGroup; order++) {
      date.setHours(date.getHours() +  4 * (Math.random() < 0.2));
      var start = new Date(date);

      date.setHours(date.getHours() + 2 + Math.floor(Math.random()*4));
      var end = new Date(date);

      var orderIndex = order + itemsPerGroup * truck
      items.add({
        id: orderIndex,
        group: truck,
        start: start,
        end: end,
        content: 'Order ' + orderIndex
      });
    }
  }
  
  // specify options
  var options = {
    stack: true,
    verticalScroll: true,
    zoomKey: 'ctrlKey',
    maxHeight: 200,
      itemsAlwaysDraggable: false,
      moveable: false,
    start: new Date(),
    end: new Date(1000*60*60*24 + (new Date()).valueOf()),
  };

  // create a Timeline

  options1 = jQuery.extend(options, {});
  var container1 = document.getElementById('mytimeline1');
  timeline1 = new vis.Timeline(container1, items, groups, options1);

  timeline1.on('rangechange', function (properties) {
      logEvent('rangechange', properties);
  });

  timeline1.on('rangechanged', function (properties) {
      logEvent('rangechanged', properties);
  });

  timeline1.on('select', function (properties) {
      logEvent('select', properties);
  });

  timeline1.on('itemover', function (properties) {
      logEvent('itemover', properties);
      setHoveredItem(properties.item);
  });

  timeline1.on('itemout', function (properties) {
      logEvent('itemout', properties);
      setHoveredItem('none');
  });

  timeline1.on('click', function (properties) {
      logEvent('click', properties);
  });

  timeline1.on('doubleClick', function (properties) {
      logEvent('doubleClick', properties);
  });

  timeline1.on('contextmenu', function (properties) {
      logEvent('contextmenu', properties);
  });

  timeline1.on('mouseDown', function (properties) {
      logEvent('mouseDown', properties);
  });

  timeline1.on('mouseUp', function (properties) {
      logEvent('mouseUp', properties);
  });

  // other possible events:

  // timeline.on('mouseOver', function (properties) {
  //   logEvent('mouseOver', properties);
  // });

  // timeline.on("mouseMove", function(properties) {
  //   logEvent('mouseMove', properties);
  // });

  items.on('*', function (event, properties) {
      logEvent(event, properties);
  });


  function stringifyObject (object) {
      if (!object) return;
      var replacer = function(key, value) {
          if (value && value.tagName) {
              return "DOM Element";
          } else {
              return value;
          }
      }
      return JSON.stringify(object, replacer)
  }

  function logEvent(event, properties) {
      var log = document.getElementById('log');
      var msg = document.createElement('div');
      msg.innerHTML = 'event=' + JSON.stringify(event) + ', ' +
          'properties=' + stringifyObject(properties);
      log.firstChild ? log.insertBefore(msg, log.firstChild) : log.appendChild(msg);
  }

  function setHoveredItem(id) {
      var hoveredItem = document.getElementById('hoveredItem');
      hoveredItem.innerHTML = 'hoveredItem=' + id;
  }

  options2 = jQuery.extend(options, {horizontalScroll: true});
  var container2 = document.getElementById('mytimeline2');
  timeline2 = new vis.Timeline(container2, items, groups, options2);

</script>

</body>
</html>
